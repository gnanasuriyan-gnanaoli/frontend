<!doctype html>
<html>

<head>
  <title>Segmented control</title>
  <link rel="stylesheet" href="css/master.css">
</head>

<body>
  <div class="container">
    <div class="buttons">
      <div class="price button" data-value='1'>
        Sort by price
      </div>
      <div class="name button" data-value='2'>
        Sort by name
      </div>
      <div class="relevance button" data-value='3'>
        Sort by relevance
      </div>
    </div>
    <select id="dropdown-price" class="mobile" name="sort">
      <option value="1">Sort By Price</option>
      <option value="2">Sort By Name</option>
      <option value="3">Sort By Relevance</option>
    </select>
  </div>
  <script type="text/javascript">
    var buttons = document.querySelectorAll('.button');
    var dropdown = document.querySelector("#dropdown-price")

    buttons.forEach(function(button) {
      button.addEventListener('click', function(event) {
        chooseButton(button);
        setChoiceValue(button.getAttribute('data-value'));
      })
    });

    dropdown.addEventListener('change', function(event) {
      let target_value = event.target.value;
      change_button = document.querySelectorAll(`[data-value='${target_value}']`)[0];
      chooseButton(change_button);
    });

    function setChoiceValue(value1) {
      dropdown.value = value1;
    }

    function chooseButton(button) {
      unsetBackgroundAndColor(button);
      setBackgroundAndColor(button);
    }

    function setBackgroundAndColor(element) {
      element.classList.add('active-button');
    }

    function unsetBackgroundAndColor(element) {
      buttons.forEach(function(button) {
        button.classList.remove('active-button');
      });
    }
  </script>
</body>

</html>